{"ast":null,"code":"import * as React from 'react';\nimport { useContext, useRef, useState, useEffect } from 'react';\nimport { useMemoOne, useOnce, raf } from '@react-spring/shared';\nimport { Controller, a, config } from '@react-spring/web';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst _excluded = [\"horizontal\", \"factor\", \"offset\", \"speed\", \"sticky\"],\n      _excluded2 = [\"pages\", \"innerStyle\", \"config\", \"enabled\", \"horizontal\", \"children\"];\nconst ParentContext = React.createContext(null);\n\nfunction getScrollType(horizontal) {\n  return horizontal ? 'scrollLeft' : 'scrollTop';\n}\n\nconst START_TRANSLATE_3D = 'translate3d(0px,0px,0px)';\nconst START_TRANSLATE = 'translate(0px,0px)';\nconst ParallaxLayer = React.memo(React.forwardRef((_ref, ref) => {\n  let {\n    horizontal,\n    factor = 1,\n    offset = 0,\n    speed = 0,\n    sticky\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const parent = useContext(ParentContext);\n  const ctrl = useMemoOne(() => {\n    let translate;\n\n    if (sticky) {\n      const start = sticky.start || 0;\n      translate = start * parent.space;\n    } else {\n      const targetScroll = Math.floor(offset) * parent.space;\n      const distance = parent.space * offset + targetScroll * speed;\n      translate = -(parent.current * speed) + distance;\n    }\n\n    return new Controller({\n      space: sticky ? parent.space : parent.space * factor,\n      translate\n    });\n  }, []);\n  const layer = useMemoOne(() => ({\n    horizontal: horizontal === undefined || sticky ? parent.horizontal : horizontal,\n    sticky: undefined,\n    isSticky: false,\n\n    setPosition(height, scrollTop, immediate = false) {\n      if (sticky) {\n        setSticky(height, scrollTop);\n      } else {\n        const targetScroll = Math.floor(offset) * height;\n        const distance = height * offset + targetScroll * speed;\n        ctrl.start({\n          translate: -(scrollTop * speed) + distance,\n          config: parent.config,\n          immediate\n        });\n      }\n    },\n\n    setHeight(height, immediate = false) {\n      ctrl.start({\n        space: sticky ? height : height * factor,\n        config: parent.config,\n        immediate\n      });\n    }\n\n  }), []);\n  useOnce(() => {\n    if (sticky) {\n      const start = sticky.start || 0;\n      const end = sticky.end || start + 1;\n      layer.sticky = {\n        start,\n        end\n      };\n    }\n  });\n  React.useImperativeHandle(ref, () => layer);\n  const layerRef = useRef();\n\n  const setSticky = (height, scrollTop) => {\n    const start = layer.sticky.start * height;\n    const end = layer.sticky.end * height;\n    const isSticky = scrollTop >= start && scrollTop <= end;\n    if (isSticky === layer.isSticky) return;\n    layer.isSticky = isSticky;\n    const ref = layerRef.current;\n    ref.style.position = isSticky ? 'sticky' : 'absolute';\n    ctrl.set({\n      translate: isSticky ? 0 : scrollTop < start ? start : end\n    });\n  };\n\n  useOnce(() => {\n    if (parent) {\n      parent.layers.add(layer);\n      parent.update();\n      return () => {\n        parent.layers.delete(layer);\n        parent.update();\n      };\n    }\n  });\n  const translate3d = ctrl.springs.translate.to(layer.horizontal ? x => `translate3d(${x}px,0,0)` : y => `translate3d(0,${y}px,0)`);\n  return React.createElement(a.div, _extends({}, rest, {\n    ref: layerRef,\n    style: _extends({\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundSize: 'auto',\n      backgroundRepeat: 'no-repeat',\n      willChange: 'transform',\n      [layer.horizontal ? 'height' : 'width']: '100%',\n      [layer.horizontal ? 'width' : 'height']: ctrl.springs.space,\n      WebkitTransform: translate3d,\n      msTransform: translate3d,\n      transform: translate3d\n    }, rest.style)\n  }));\n}));\nconst Parallax = React.memo(React.forwardRef((props, ref) => {\n  const [ready, setReady] = useState(false);\n\n  const {\n    pages,\n    config: config$1 = config.slow,\n    enabled = true,\n    horizontal = false,\n    children\n  } = props,\n        rest = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  const state = useMemoOne(() => ({\n    config: config$1,\n    horizontal,\n    busy: false,\n    space: 0,\n    current: 0,\n    offset: 0,\n    controller: new Controller({\n      scroll: 0\n    }),\n    layers: new Set(),\n    update: () => update(),\n    scrollTo: offset => scrollTo(offset),\n    stop: () => state.controller.stop()\n  }), []);\n  useEffect(() => {\n    state.config = config$1;\n  }, [config$1]);\n  React.useImperativeHandle(ref, () => state);\n  const containerRef = useRef();\n  const contentRef = useRef();\n\n  const update = () => {\n    const container = containerRef.current;\n    if (!container) return;\n    const spaceProp = horizontal ? 'clientWidth' : 'clientHeight';\n    state.space = container[spaceProp];\n    const scrollType = getScrollType(horizontal);\n\n    if (enabled) {\n      state.current = container[scrollType];\n    } else {\n      container[scrollType] = state.current = state.offset * state.space;\n    }\n\n    const content = contentRef.current;\n\n    if (content) {\n      const sizeProp = horizontal ? 'width' : 'height';\n      content.style[sizeProp] = `${state.space * pages}px`;\n    }\n\n    state.layers.forEach(layer => {\n      layer.setHeight(state.space, true);\n      layer.setPosition(state.space, state.current, true);\n    });\n  };\n\n  const scrollTo = offset => {\n    const container = containerRef.current;\n    const scrollType = getScrollType(horizontal);\n    state.offset = offset;\n    state.controller.set({\n      scroll: state.current\n    });\n    state.controller.stop().start({\n      scroll: offset * state.space,\n      config: config$1,\n\n      onChange({\n        value: {\n          scroll\n        }\n      }) {\n        container[scrollType] = scroll;\n      }\n\n    });\n  };\n\n  const onScroll = event => {\n    if (!state.busy) {\n      state.busy = true;\n      state.current = event.target[getScrollType(horizontal)];\n      raf.onStart(() => {\n        state.layers.forEach(layer => layer.setPosition(state.space, state.current));\n        state.busy = false;\n      });\n    }\n  };\n\n  useEffect(() => state.update());\n  useOnce(() => {\n    setReady(true);\n\n    const onResize = () => {\n      const update = () => state.update();\n\n      raf.onFrame(update);\n      setTimeout(update, 150);\n    };\n\n    window.addEventListener('resize', onResize, false);\n    return () => window.removeEventListener('resize', onResize, false);\n  });\n  const overflow = enabled ? 'scroll' : 'hidden';\n  return React.createElement(a.div, _extends({}, rest, {\n    ref: containerRef,\n    onScroll: onScroll,\n    onWheel: enabled ? state.stop : undefined,\n    onTouchStart: enabled ? state.stop : undefined,\n    style: _extends({\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      overflow,\n      overflowY: horizontal ? 'hidden' : overflow,\n      overflowX: horizontal ? overflow : 'hidden',\n      WebkitOverflowScrolling: 'touch',\n      WebkitTransform: START_TRANSLATE,\n      msTransform: START_TRANSLATE,\n      transform: START_TRANSLATE_3D\n    }, rest.style)\n  }), ready && React.createElement(React.Fragment, null, React.createElement(a.div, {\n    ref: contentRef,\n    style: _extends({\n      overflow: 'hidden',\n      position: 'absolute',\n      [horizontal ? 'height' : 'width']: '100%',\n      [horizontal ? 'width' : 'height']: state.space * pages,\n      WebkitTransform: START_TRANSLATE,\n      msTransform: START_TRANSLATE,\n      transform: START_TRANSLATE_3D\n    }, props.innerStyle)\n  }, React.createElement(ParentContext.Provider, {\n    value: state\n  }, React.Children.map(children, child => !child.props.sticky && child))), React.createElement(ParentContext.Provider, {\n    value: state\n  }, React.Children.map(children, child => child.props.sticky && child))));\n}));\nexport { Parallax, ParallaxLayer };","map":{"version":3,"sources":["C:/Users/user/Desktop/workspace/yoru-ui-web/node_modules/@react-spring/parallax/dist/react-spring-parallax.esm.js"],"names":["React","useContext","useRef","useState","useEffect","useMemoOne","useOnce","raf","Controller","a","config","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_excluded","_excluded2","ParentContext","createContext","getScrollType","horizontal","START_TRANSLATE_3D","START_TRANSLATE","ParallaxLayer","memo","forwardRef","_ref","ref","factor","offset","speed","sticky","rest","parent","ctrl","translate","start","space","targetScroll","Math","floor","distance","current","layer","undefined","isSticky","setPosition","height","scrollTop","immediate","setSticky","setHeight","end","useImperativeHandle","layerRef","style","position","set","layers","add","update","delete","translate3d","springs","to","x","y","createElement","div","top","bottom","left","right","backgroundSize","backgroundRepeat","willChange","WebkitTransform","msTransform","transform","Parallax","props","ready","setReady","pages","config$1","slow","enabled","children","state","busy","controller","scroll","Set","scrollTo","stop","containerRef","contentRef","container","spaceProp","scrollType","content","sizeProp","forEach","onChange","value","onScroll","event","onStart","onResize","onFrame","setTimeout","window","addEventListener","removeEventListener","overflow","onWheel","onTouchStart","width","overflowY","overflowX","WebkitOverflowScrolling","Fragment","innerStyle","Provider","Children","map","child"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { useContext, useRef, useState, useEffect } from 'react';\nimport { useMemoOne, useOnce, raf } from '@react-spring/shared';\nimport { Controller, a, config } from '@react-spring/web';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst _excluded = [\"horizontal\", \"factor\", \"offset\", \"speed\", \"sticky\"],\n      _excluded2 = [\"pages\", \"innerStyle\", \"config\", \"enabled\", \"horizontal\", \"children\"];\nconst ParentContext = React.createContext(null);\n\nfunction getScrollType(horizontal) {\n  return horizontal ? 'scrollLeft' : 'scrollTop';\n}\n\nconst START_TRANSLATE_3D = 'translate3d(0px,0px,0px)';\nconst START_TRANSLATE = 'translate(0px,0px)';\nconst ParallaxLayer = React.memo(React.forwardRef((_ref, ref) => {\n  let {\n    horizontal,\n    factor = 1,\n    offset = 0,\n    speed = 0,\n    sticky\n  } = _ref,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const parent = useContext(ParentContext);\n  const ctrl = useMemoOne(() => {\n    let translate;\n\n    if (sticky) {\n      const start = sticky.start || 0;\n      translate = start * parent.space;\n    } else {\n      const targetScroll = Math.floor(offset) * parent.space;\n      const distance = parent.space * offset + targetScroll * speed;\n      translate = -(parent.current * speed) + distance;\n    }\n\n    return new Controller({\n      space: sticky ? parent.space : parent.space * factor,\n      translate\n    });\n  }, []);\n  const layer = useMemoOne(() => ({\n    horizontal: horizontal === undefined || sticky ? parent.horizontal : horizontal,\n    sticky: undefined,\n    isSticky: false,\n\n    setPosition(height, scrollTop, immediate = false) {\n      if (sticky) {\n        setSticky(height, scrollTop);\n      } else {\n        const targetScroll = Math.floor(offset) * height;\n        const distance = height * offset + targetScroll * speed;\n        ctrl.start({\n          translate: -(scrollTop * speed) + distance,\n          config: parent.config,\n          immediate\n        });\n      }\n    },\n\n    setHeight(height, immediate = false) {\n      ctrl.start({\n        space: sticky ? height : height * factor,\n        config: parent.config,\n        immediate\n      });\n    }\n\n  }), []);\n  useOnce(() => {\n    if (sticky) {\n      const start = sticky.start || 0;\n      const end = sticky.end || start + 1;\n      layer.sticky = {\n        start,\n        end\n      };\n    }\n  });\n  React.useImperativeHandle(ref, () => layer);\n  const layerRef = useRef();\n\n  const setSticky = (height, scrollTop) => {\n    const start = layer.sticky.start * height;\n    const end = layer.sticky.end * height;\n    const isSticky = scrollTop >= start && scrollTop <= end;\n    if (isSticky === layer.isSticky) return;\n    layer.isSticky = isSticky;\n    const ref = layerRef.current;\n    ref.style.position = isSticky ? 'sticky' : 'absolute';\n    ctrl.set({\n      translate: isSticky ? 0 : scrollTop < start ? start : end\n    });\n  };\n\n  useOnce(() => {\n    if (parent) {\n      parent.layers.add(layer);\n      parent.update();\n      return () => {\n        parent.layers.delete(layer);\n        parent.update();\n      };\n    }\n  });\n  const translate3d = ctrl.springs.translate.to(layer.horizontal ? x => `translate3d(${x}px,0,0)` : y => `translate3d(0,${y}px,0)`);\n  return React.createElement(a.div, _extends({}, rest, {\n    ref: layerRef,\n    style: _extends({\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundSize: 'auto',\n      backgroundRepeat: 'no-repeat',\n      willChange: 'transform',\n      [layer.horizontal ? 'height' : 'width']: '100%',\n      [layer.horizontal ? 'width' : 'height']: ctrl.springs.space,\n      WebkitTransform: translate3d,\n      msTransform: translate3d,\n      transform: translate3d\n    }, rest.style)\n  }));\n}));\nconst Parallax = React.memo(React.forwardRef((props, ref) => {\n  const [ready, setReady] = useState(false);\n\n  const {\n    pages,\n    config: config$1 = config.slow,\n    enabled = true,\n    horizontal = false,\n    children\n  } = props,\n        rest = _objectWithoutPropertiesLoose(props, _excluded2);\n\n  const state = useMemoOne(() => ({\n    config: config$1,\n    horizontal,\n    busy: false,\n    space: 0,\n    current: 0,\n    offset: 0,\n    controller: new Controller({\n      scroll: 0\n    }),\n    layers: new Set(),\n    update: () => update(),\n    scrollTo: offset => scrollTo(offset),\n    stop: () => state.controller.stop()\n  }), []);\n  useEffect(() => {\n    state.config = config$1;\n  }, [config$1]);\n  React.useImperativeHandle(ref, () => state);\n  const containerRef = useRef();\n  const contentRef = useRef();\n\n  const update = () => {\n    const container = containerRef.current;\n    if (!container) return;\n    const spaceProp = horizontal ? 'clientWidth' : 'clientHeight';\n    state.space = container[spaceProp];\n    const scrollType = getScrollType(horizontal);\n\n    if (enabled) {\n      state.current = container[scrollType];\n    } else {\n      container[scrollType] = state.current = state.offset * state.space;\n    }\n\n    const content = contentRef.current;\n\n    if (content) {\n      const sizeProp = horizontal ? 'width' : 'height';\n      content.style[sizeProp] = `${state.space * pages}px`;\n    }\n\n    state.layers.forEach(layer => {\n      layer.setHeight(state.space, true);\n      layer.setPosition(state.space, state.current, true);\n    });\n  };\n\n  const scrollTo = offset => {\n    const container = containerRef.current;\n    const scrollType = getScrollType(horizontal);\n    state.offset = offset;\n    state.controller.set({\n      scroll: state.current\n    });\n    state.controller.stop().start({\n      scroll: offset * state.space,\n      config: config$1,\n\n      onChange({\n        value: {\n          scroll\n        }\n      }) {\n        container[scrollType] = scroll;\n      }\n\n    });\n  };\n\n  const onScroll = event => {\n    if (!state.busy) {\n      state.busy = true;\n      state.current = event.target[getScrollType(horizontal)];\n      raf.onStart(() => {\n        state.layers.forEach(layer => layer.setPosition(state.space, state.current));\n        state.busy = false;\n      });\n    }\n  };\n\n  useEffect(() => state.update());\n  useOnce(() => {\n    setReady(true);\n\n    const onResize = () => {\n      const update = () => state.update();\n\n      raf.onFrame(update);\n      setTimeout(update, 150);\n    };\n\n    window.addEventListener('resize', onResize, false);\n    return () => window.removeEventListener('resize', onResize, false);\n  });\n  const overflow = enabled ? 'scroll' : 'hidden';\n  return React.createElement(a.div, _extends({}, rest, {\n    ref: containerRef,\n    onScroll: onScroll,\n    onWheel: enabled ? state.stop : undefined,\n    onTouchStart: enabled ? state.stop : undefined,\n    style: _extends({\n      position: 'absolute',\n      width: '100%',\n      height: '100%',\n      overflow,\n      overflowY: horizontal ? 'hidden' : overflow,\n      overflowX: horizontal ? overflow : 'hidden',\n      WebkitOverflowScrolling: 'touch',\n      WebkitTransform: START_TRANSLATE,\n      msTransform: START_TRANSLATE,\n      transform: START_TRANSLATE_3D\n    }, rest.style)\n  }), ready && React.createElement(React.Fragment, null, React.createElement(a.div, {\n    ref: contentRef,\n    style: _extends({\n      overflow: 'hidden',\n      position: 'absolute',\n      [horizontal ? 'height' : 'width']: '100%',\n      [horizontal ? 'width' : 'height']: state.space * pages,\n      WebkitTransform: START_TRANSLATE,\n      msTransform: START_TRANSLATE,\n      transform: START_TRANSLATE_3D\n    }, props.innerStyle)\n  }, React.createElement(ParentContext.Provider, {\n    value: state\n  }, React.Children.map(children, child => !child.props.sticky && child))), React.createElement(ParentContext.Provider, {\n    value: state\n  }, React.Children.map(children, child => child.props.sticky && child))));\n}));\n\nexport { Parallax, ParallaxLayer };\n"]},"metadata":{},"sourceType":"module"}