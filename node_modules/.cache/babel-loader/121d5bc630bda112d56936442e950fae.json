{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\workspace\\\\yoru-ui-web\\\\src\\\\effectPages\\\\TransitionGrid\\\\useCannon.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as CANNON from \"cannon\";\nimport React, { useState, useEffect, useContext, useRef } from \"react\";\nimport { useFrame } from \"react-three-fiber\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst context = /*#__PURE__*/React.createContext();\nexport function Provider({\n  children\n}) {\n  _s();\n\n  const [world] = useState(() => new CANNON.World());\n  useEffect(() => {\n    world.broadphase = new CANNON.NaiveBroadphase();\n    world.solver.iterations = 10;\n    world.gravity.set(0, 0, -25);\n  }, [world]);\n  useFrame(() => world.step(1 / 60));\n  return /*#__PURE__*/_jsxDEV(context.Provider, {\n    value: world,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 10\n  }, this);\n}\n\n_s(Provider, \"qAQ95cvRkzgBQoY01PTBpNzW4tc=\", false, function () {\n  return [useFrame];\n});\n\n_c = Provider;\nexport function useCannon({ ...props\n}, fn, deps = []) {\n  _s2();\n\n  const ref = useRef();\n  const world = useContext(context);\n  const [body] = useState(() => new CANNON.Body(props));\n  useEffect(() => {\n    fn(body);\n    world.addBody(body);\n    return () => world.removeBody(body);\n  }, deps);\n  useFrame(() => {\n    if (ref.current) {\n      ref.current.position.copy(body.position);\n      ref.current.quaternion.copy(body.quaternion);\n    }\n  });\n  return ref;\n}\n\n_s2(useCannon, \"zy8orWBdPwFfUV+I4qoLevKJjWU=\", false, function () {\n  return [useFrame];\n});\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"sources":["C:/Users/user/Desktop/workspace/yoru-ui-web/src/effectPages/TransitionGrid/useCannon.js"],"names":["CANNON","React","useState","useEffect","useContext","useRef","useFrame","context","createContext","Provider","children","world","World","broadphase","NaiveBroadphase","solver","iterations","gravity","set","step","useCannon","props","fn","deps","ref","body","Body","addBody","removeBody","current","position","copy","quaternion"],"mappings":";;;;AAAA,OAAO,KAAKA,MAAZ,MAAwB,QAAxB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,EAAiDC,MAAjD,QAA+D,OAA/D;AACA,SAASC,QAAT,QAAyB,mBAAzB;;AAEA,MAAMC,OAAO,gBAAGN,KAAK,CAACO,aAAN,EAAhB;AACA,OAAO,SAASC,QAAT,CAAkB;AAAEC,EAAAA;AAAF,CAAlB,EAAgC;AAAA;;AACrC,QAAM,CAACC,KAAD,IAAUT,QAAQ,CAAC,MAAM,IAAIF,MAAM,CAACY,KAAX,EAAP,CAAxB;AACAT,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,KAAK,CAACE,UAAN,GAAmB,IAAIb,MAAM,CAACc,eAAX,EAAnB;AACAH,IAAAA,KAAK,CAACI,MAAN,CAAaC,UAAb,GAA0B,EAA1B;AACAL,IAAAA,KAAK,CAACM,OAAN,CAAcC,GAAd,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,CAAC,EAAzB;AACD,GAJQ,EAIN,CAACP,KAAD,CAJM,CAAT;AAMAL,EAAAA,QAAQ,CAAC,MAAMK,KAAK,CAACQ,IAAN,CAAW,IAAI,EAAf,CAAP,CAAR;AACA,sBAAO,QAAC,OAAD,CAAS,QAAT;AAAkB,IAAA,KAAK,EAAER,KAAzB;AAAgC,IAAA,QAAQ,EAAED;AAA1C;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;GAVeD,Q;UAQdH,Q;;;KARcG,Q;AAYhB,OAAO,SAASW,SAAT,CAAmB,EAAE,GAAGC;AAAL,CAAnB,EAAiCC,EAAjC,EAAqCC,IAAI,GAAG,EAA5C,EAAgD;AAAA;;AACrD,QAAMC,GAAG,GAAGnB,MAAM,EAAlB;AACA,QAAMM,KAAK,GAAGP,UAAU,CAACG,OAAD,CAAxB;AACA,QAAM,CAACkB,IAAD,IAASvB,QAAQ,CAAC,MAAM,IAAIF,MAAM,CAAC0B,IAAX,CAAgBL,KAAhB,CAAP,CAAvB;AACAlB,EAAAA,SAAS,CAAC,MAAM;AACdmB,IAAAA,EAAE,CAACG,IAAD,CAAF;AACAd,IAAAA,KAAK,CAACgB,OAAN,CAAcF,IAAd;AACA,WAAO,MAAMd,KAAK,CAACiB,UAAN,CAAiBH,IAAjB,CAAb;AACD,GAJQ,EAINF,IAJM,CAAT;AAMAjB,EAAAA,QAAQ,CAAC,MAAM;AACb,QAAIkB,GAAG,CAACK,OAAR,EAAiB;AACfL,MAAAA,GAAG,CAACK,OAAJ,CAAYC,QAAZ,CAAqBC,IAArB,CAA0BN,IAAI,CAACK,QAA/B;AACAN,MAAAA,GAAG,CAACK,OAAJ,CAAYG,UAAZ,CAAuBD,IAAvB,CAA4BN,IAAI,CAACO,UAAjC;AACD;AACF,GALO,CAAR;AAOA,SAAOR,GAAP;AACD;;IAlBeJ,S;UAUdd,Q","sourcesContent":["import * as CANNON from \"cannon\";\r\nimport React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport { useFrame } from \"react-three-fiber\";\r\n\r\nconst context = React.createContext();\r\nexport function Provider({ children }) {\r\n  const [world] = useState(() => new CANNON.World());\r\n  useEffect(() => {\r\n    world.broadphase = new CANNON.NaiveBroadphase();\r\n    world.solver.iterations = 10;\r\n    world.gravity.set(0, 0, -25);\r\n  }, [world]);\r\n\r\n  useFrame(() => world.step(1 / 60));\r\n  return <context.Provider value={world} children={children} />;\r\n}\r\n\r\nexport function useCannon({ ...props }, fn, deps = []) {\r\n  const ref = useRef();\r\n  const world = useContext(context);\r\n  const [body] = useState(() => new CANNON.Body(props));\r\n  useEffect(() => {\r\n    fn(body);\r\n    world.addBody(body);\r\n    return () => world.removeBody(body);\r\n  }, deps);\r\n\r\n  useFrame(() => {\r\n    if (ref.current) {\r\n      ref.current.position.copy(body.position);\r\n      ref.current.quaternion.copy(body.quaternion);\r\n    }\r\n  });\r\n\r\n  return ref;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}